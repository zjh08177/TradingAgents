# ===================================================================
# TRADING GRAPH SERVER - UNIFIED CONFIGURATION
# ===================================================================
# This file shows ALL possible environment variables that can be configured.
# Copy this to .env and update with your actual values.
#
# IMPORTANT: All values shown are the DEFAULT values.
# The system will work with these defaults if no .env is provided.
# ===================================================================

# === API KEYS ===
# Required for OpenAI LLM calls
OPENAI_API_KEY=your_openai_key_here

# Required for web search functionality  
SERPER_API_KEY=your_serper_key_here

# Optional: For additional financial data
FINNHUB_API_KEY=your_finnhub_key_here

# Optional: For LangSmith tracing and monitoring
LANGSMITH_API_KEY=your_langsmith_key_here

# === LANGSMITH SETTINGS ===
# Project name for organizing traces
LANGSMITH_PROJECT=trading-agent-graph

# === LANGGRAPH SETTINGS ===  
# Optional: For LangGraph deployment
LANGGRAPH_URL=your_langgraph_url_here
LANGGRAPH_ASSISTANT_ID=trading_agents

# === PATHS & DIRECTORIES ===
# Base project directory
TRADINGAGENTS_PROJECT_DIR=.

# Where to store analysis results
TRADINGAGENTS_RESULTS_DIR=./results

# Data storage directory  
TRADINGAGENTS_DATA_DIR=./data

# Cache directory for tool data
TRADINGAGENTS_CACHE_DIR=./dataflows/data_cache

# === API SERVER SETTINGS ===
# Host for local API server
TRADINGAGENTS_API_HOST=localhost

# Port for local API server  
TRADINGAGENTS_API_PORT=8000

# === LLM CONFIGURATION ===
# LLM provider (currently only "openai" supported)
LLM_PROVIDER=openai

# Model for complex analysis (o1, o3, etc.)
DEEP_THINK_MODEL=o1

# Model for routine tasks (gpt-4o, gpt-4o-mini, etc.)  
QUICK_THINK_MODEL=gpt-4o

# API endpoint URL
BACKEND_URL=https://api.openai.com/v1

# === EXECUTION LIMITS ===
# Maximum rounds of bull/bear debate before forcing consensus
MAX_DEBATE_ROUNDS=3

# Maximum rounds of risk discussion
MAX_RISK_DISCUSS_ROUNDS=1

# Maximum rounds for research debate specifically
MAX_RESEARCH_DEBATE_ROUNDS=3

# Maximum recursion limit for complex operations
MAX_RECUR_LIMIT=100

# LangGraph recursion limit
RECURSION_LIMIT=50

# Total execution timeout in seconds (1200 = 20 minutes)
EXECUTION_TIMEOUT=1200

# Force consensus if debate quality score >= this threshold  
FORCE_CONSENSUS_THRESHOLD=7

# Enable circuit breaker to prevent infinite loops
CIRCUIT_BREAKER_ENABLED=true

# === TOKEN MANAGEMENT ===
# Maximum tokens per individual analyst
MAX_TOKENS_PER_ANALYST=2000

# Target total tokens for complete analysis run
TOKEN_OPTIMIZATION_TARGET=40000

# Enable comprehensive token optimization
ENABLE_TOKEN_OPTIMIZATION=true

# Enable prompt compression (22%+ reduction)
ENABLE_PROMPT_COMPRESSION=true

# Enable response length control
ENABLE_RESPONSE_CONTROL=true

# Enable predictive token limiting
ENABLE_INTELLIGENT_LIMITING=true

# Track and report token usage
ENABLE_TOKEN_MONITORING=true

# === PERFORMANCE FEATURES ===
# Enable parallel tool execution for analysts
ENABLE_PARALLEL_TOOLS=true

# Enable smart caching for tool results (~10s savings)
ENABLE_SMART_CACHING=true

# Enable smart retry logic to skip unnecessary retries  
ENABLE_SMART_RETRY=true

# Enable multi-round debate optimization
ENABLE_DEBATE_OPTIMIZATION=true

# Master switch for Phase 1 optimizations (50% performance improvement)
ENABLE_PHASE1_OPTIMIZATIONS=true

# Async token counting for 40% runtime reduction
ENABLE_ASYNC_TOKENS=true

# Ultra-compressed prompts for 75% token reduction
ENABLE_ULTRA_PROMPTS=true

# True parallel agent execution for 2-3x speedup
ENABLE_PARALLEL_EXECUTION=true

# Number of agents to run in parallel
MAX_PARALLEL_AGENTS=4

# Enable retry mechanisms
ENABLE_RETRY=true

# Enable tool result caching
ENABLE_TOOL_CACHE=true

# Enable batch execution  
ENABLE_BATCH_EXECUTION=true

# Enable batch prompt processing
ENABLE_BATCH_PROMPT_PROCESSING=true

# Enable parallel risk debate (always on - sequential mode removed)
ENABLE_PARALLEL_RISK_DEBATE=true

# === TOOL CONFIGURATION ===
# Enable online tools (web search, APIs, etc.)
ONLINE_TOOLS=true

# Force analysts to use tools (prevent pure reasoning)
ENFORCE_TOOL_USAGE=true

# Timeout for individual tool calls in seconds
TOOL_TIMEOUT=15

# Number of retry attempts for failed tool calls
TOOL_RETRY_ATTEMPTS=2

# === FEATURE FLAGS ===
# Enable V4 enhanced natural language prompts  
ENHANCED_PROMPTS_ENABLED=true

# ===================================================================
# NOTES:
# ===================================================================
# 1. Boolean values: use "true" or "false" (case insensitive)
# 2. All environment variables are optional - defaults will be used
# 3. Path variables can be absolute or relative
# 4. API keys are required for full functionality but system will run in limited mode without them
# 5. Performance settings are all enabled by default for optimal speed
# ===================================================================